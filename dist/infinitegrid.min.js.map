{"version":3,"file":"infinitegrid.min.js","sources":["webpack:///infinitegrid.min.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"@egjs/component\")):\"function\"==typeof define&&define.amd?define([\"@egjs/component\"],e):\"object\"==typeof exports?exports.InfiniteGrid=e(require(\"@egjs/component\")):(t.eg=t.eg||{},t.eg.InfiniteGrid=e(t.eg.Component))}(this,function(t){return function(t){function __webpack_require__(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,i){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return __webpack_require__.d(e,\"a\",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p=\"\",__webpack_require__(__webpack_require__.s=5)}([function(t,e,i){\"use strict\";e.__esModule=!0,e.ALIGN=e.DEFAULT_OPTIONS=e.GROUPKEY_ATT=e.DUMMY_POSITION=e.SINGLE=e.MULTI=e.NO_TRUSTED=e.TRUSTED=e.NO_CACHE=e.CACHE=e.HORIZONTAL=e.VERTICAL=e.PREPEND=e.APPEND=e.CONTAINER_CLASSNAME=e.RETRY=e.IS_ANDROID2=e.IS_IOS=e.IS_IE=e.SUPPORT_PASSIVE=e.SUPPORT_ADDEVENTLISTENER=e.SUPPORT_COMPUTEDSTYLE=undefined;var r=i(2),n=r.window.navigator.userAgent,o=(e.SUPPORT_COMPUTEDSTYLE=!!(\"getComputedStyle\"in r.window),e.SUPPORT_ADDEVENTLISTENER=!!(\"addEventListener\"in document));e.SUPPORT_PASSIVE=function(){var t=!1;try{o&&Object.defineProperty&&document.addEventListener(\"test\",null,Object.defineProperty({},\"passive\",{get:function(){t=!0}}))}catch(e){}return t}(),e.IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(n),e.IS_IOS=/iPhone|iPad/.test(n),e.IS_ANDROID2=/Android 2\\./.test(n),e.RETRY=3,e.CONTAINER_CLASSNAME=\"_eg-infinitegrid-container_\",e.APPEND=!0,e.PREPEND=!1,e.VERTICAL=\"vertical\",e.HORIZONTAL=\"horizontal\",e.CACHE=!0,e.NO_CACHE=!1,e.TRUSTED=!0,e.NO_TRUSTED=!1,e.MULTI=!0,e.SINGLE=!1,e.DUMMY_POSITION=-1e5,e.GROUPKEY_ATT=\"data-groupkey\",e.DEFAULT_OPTIONS={horizontal:!1,margin:0},e.ALIGN={START:\"start\",CENTER:\"center\",END:\"end\",JUSTIFY:\"justify\"}},function(t,e,i){\"use strict\";function toArray(t){var e=[];if(t)for(var i=0,r=t.length;i<r;i++)e.push(t[i]);return e}function $(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],i=void 0;if(\"string\"==typeof t){if(t.match(/^<([A-z]+)\\s*([^>]*)>/)){var r=o.document.createElement(\"div\");r.innerHTML=t,i=toArray(r.childNodes)}else i=toArray(o.document.querySelectorAll(t));e||(i=i.length>=1?i[0]:undefined)}else t===o.window?i=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?\"jQuery\"in o.window&&t instanceof o.window.jQuery||t.constructor.prototype.jquery?i=e?t.toArray():t.get(0):Array.isArray(t)&&(i=t.map(function(t){return $(t)}),e||(i=i.length>=1?i[0]:undefined)):i=t;return i}function getStyles(t){return s.SUPPORT_COMPUTEDSTYLE?o.window.getComputedStyle(t):t.currentStyle}function _getSize(t,e){if(t===o.window)return t.document.documentElement[\"client\"+e];if(9===t.nodeType){var i=t.documentElement;return Math.max(t.body[\"scroll\"+e],i[\"scroll\"+e],t.body[\"offset\"+e],i[\"offset\"+e],i[\"client\"+e])}var r=getStyles(t),n=r[e.toLowerCase()];return parseFloat(/auto|%/.test(n)?t[\"offset\"+e]:r[e.toLowerCase()])}e.__esModule=!0,e.STYLE=undefined;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};e.toArray=toArray,e.fill=function(t,e){for(var i=\"object\"===(void 0===t?\"undefined\":n(t))?t:new Array(t),r=i.length-1;r>=0;--r)i[r]=e;return i},e.$=$,e.addEvent=function(t,e,i,r){if(s.SUPPORT_ADDEVENTLISTENER){var o=r||!1;\"object\"===(void 0===r?\"undefined\":n(r))&&(o=!!s.SUPPORT_PASSIVE&&r),t.addEventListener(e,i,o)}else t.attachEvent?t.attachEvent(\"on\"+e,i):t[\"on\"+e]=i},e.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent(\"on\"+e,i):t[\"on\"+e]=null},e.scroll=function(t,e){var i=\"scroll\"+(e?\"Top\":\"Left\");return t===o.window?o.document.body[i]||o.document.documentElement[i]:t[i]},e.scrollTo=function(t,e,i){t===o.window?t.scroll(e,i):(t.scrollLeft=e,t.scrollTop=i)},e.scrollBy=function(t,e,i){t===o.window?t.scrollBy(e,i):(t.scrollLeft+=e,t.scrollTop+=i)},e.getStyles=getStyles,e.innerWidth=function(t){return _getSize(t,\"Width\")},e.innerHeight=function(t){return _getSize(t,\"Height\")},e.getStyleNames=function(t){return a[t?s.HORIZONTAL:s.VERTICAL]},e.assignOptions=function(t,e){return r({},s.DEFAULT_OPTIONS,t,e)},e.toZeroArray=function(t){return t&&t.length?t:[0]},e.indexOf=function(t,e){if(!(arguments.length>2&&arguments[2]!==undefined&&arguments[2]))return t.indexOf(e);for(var i=t.length-1;i>=0;--i)if(t[i]===e)return i;return-1};var o=i(2),s=i(0),a=e.STYLE={vertical:{pos1:\"top\",endPos1:\"bottom\",size1:\"height\",pos2:\"left\",endPos2:\"right\",size2:\"width\"},horizontal:{pos1:\"left\",endPos1:\"right\",size1:\"width\",pos2:\"top\",endPos2:\"bottom\",size2:\"height\"}}},function(t,e,i){\"use strict\";e.__esModule=!0;var r=window;e.window=window;e.document=r.document},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=i(0),o=i(1),s=function(){function DOMRenderer(t,e){_classCallCheck(this,DOMRenderer),r(this.options={isOverflowScroll:!1,isEqualSize:!1,isVertical:!0},e),this._size={containerOffset:0,container:-1,view:-1,item:null},this._init(t),this.resize()}return DOMRenderer.renderItem=function(t,e){if(t.el){var i=t.el.style;t.el.setAttribute(n.GROUPKEY_ATT,t.groupKey),i.position=\"absolute\",[\"left\",\"top\",\"width\",\"height\"].forEach(function(t){t in e&&(i[t]=e[t]+\"px\")})}},DOMRenderer.renderItems=function(t){t.forEach(function(t){DOMRenderer.renderItem(t,t.rect)})},DOMRenderer.removeItems=function(t){t.forEach(function(t){t.el&&(DOMRenderer.removeElement(t.el),t.el=null)})},DOMRenderer.removeElement=function(t){t.parentNode.removeChild(t)},DOMRenderer.createElements=function(t){var e=(0,o.$)(t.reduce(function(t,e,i){return t.push(e.content.replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g,\"\")),t},[]).join(\"\"),n.MULTI);return t.map(function(t,i){return t.el=e[i],t})},DOMRenderer.prototype.getStatus=function(){return{cssText:this.container.style.cssText,options:r({},this.options),_size:r({},this._size)}},DOMRenderer.prototype.setStatus=function(t,e){this.container.style.cssText=t.cssText,r(this.options,t.options),r(this._size,t._size),DOMRenderer.renderItems(e),this._insert(e,n.APPEND)},DOMRenderer.prototype.updateSize=function(t){var e=this;return t.map(function(t){return t.el&&(e.options.isEqualSize?(e._size.item=e._size.item||{width:(0,o.innerWidth)(t.el),height:(0,o.innerHeight)(t.el)},t.size=r({},e._size.item)):t.size={width:(0,o.innerWidth)(t.el),height:(0,o.innerHeight)(t.el)},t.orgSize||(t.orgSize=r({},t.size))),t})},DOMRenderer.prototype._init=function(t){var e=(0,o.$)(t),i=(0,o.getStyles)(e);if(this._orgStyle={},\"static\"===i.position&&(this._orgStyle.position=e.style.position,e.style.position=\"relative\"),this.options.isOverflowScroll){var r=e.querySelector(\".\"+n.CONTAINER_CLASSNAME);if(!r){(r=document.createElement(\"div\")).className=n.CONTAINER_CLASSNAME;for(var s=e.children,a=s.length,u=this.options.isVertical?[\"Y\",\"X\"]:[\"X\",\"Y\"],h=0;h<a;h++)r.appendChild(s[0]);this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style[\"overflow\"+u[0]]=\"scroll\",e.style[\"overflow\"+u[1]]=\"hidden\",e.appendChild(r)}this.view=e,this.container=r}else this.view=window,this.container=e},DOMRenderer.prototype.append=function(t){this._insert(t,n.APPEND,{top:n.DUMMY_POSITION})},DOMRenderer.prototype.prepend=function(t){this._insert(t,n.PREPEND,{top:n.DUMMY_POSITION})},DOMRenderer.prototype.clear=function(){this.container.innerHTML=\"\",this.container.style[this.options.isVertical?\"height\":\"width\"]=\"\",this._size={containerOffset:0,container:-1,view:-1}},DOMRenderer.prototype.createAndInsert=function(t,e){var i=DOMRenderer.createElements(t);DOMRenderer.renderItems(i),this._insert(i,e)},DOMRenderer.prototype._insert=function(t,e,i){var r=document.createDocumentFragment();t.forEach(function(t){i&&DOMRenderer.renderItem(t,i),e?r.appendChild(t.el):r.insertBefore(t.el,r.firstChild)}),e?this.container.appendChild(r):this.container.insertBefore(r,this.container.firstChild)},DOMRenderer.prototype._calcSize=function(){return this.options.isVertical?(0,o.innerWidth)(this.container):(0,o.innerHeight)(this.container)},DOMRenderer.prototype.getViewSize=function(){return this._size.view},DOMRenderer.prototype.scrollBy=function(t){var e=this.options.isVertical?[0,t]:[t,0];o.scrollBy.apply(undefined,[this.view].concat(e))},DOMRenderer.prototype.getContainerOffset=function(){return this._size.containerOffset},DOMRenderer.prototype.getContainerSize=function(){return this.resize(),this._size.container},DOMRenderer.prototype.setContainerSize=function(t){this.container.style[this.options.isVertical?\"height\":\"width\"]=t+\"px\"},DOMRenderer.prototype.resize=function(){if(this.isNeededResize()){var t=this.options.isVertical;return this._size={containerOffset:this.container[\"offset\"+(t?\"Top\":\"Left\")],container:this._calcSize(),view:t?(0,o.innerHeight)(this.view):(0,o.innerWidth)(this.view),item:null},!0}return!1},DOMRenderer.prototype.isNeededResize=function(){return this._calcSize()!==this._size.container},DOMRenderer.prototype.destroy=function(){this._size={containerOffset:0,container:-1,view:-1,item:null},this.container.style[this.options.isVertical?\"height\":\"width\"]=\"\";for(var t in this._orgStyle)this[this.options.isOverflowScroll?\"view\":\"container\"].style[t]=this._orgStyle[t]},DOMRenderer}();e[\"default\"]=s,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function disableFrame(t,e,i,r,n,o){for(var s=r;s<r+o;++s)for(var a=i;a<i+n;++a)e===t[s][a]&&(t[s][a]=0)}function searchShapeInFrame(t,e,i,r,n,o){for(var s={left:r,top:i,type:e,width:1,height:1},a=r;a<n&&t[i][a]===e;++a)s.width=a-r+1;for(var u=i;u<o&&t[u][r]===e;++u)s.height=u-i+1;return disableFrame(t,e,r,i,s.width,s.height),s}function getShapes(t){for(var e=t.length,i=e?t[0].length:0,r=[],n=0;n<e;++n)for(var o=0;o<i;++o){var s=t[n][o];s&&r.push(searchShapeInFrame(t,s,n,o,i,e))}return r.sort(function(t,e){return t.type<e.type?-1:1}),{shapes:r,width:i,height:e}}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=i(0),s=i(1),a=function(){function FrameLayout(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,FrameLayout),this.options=(0,s.assignOptions)({itemSize:0,frame:[],frameFill:!0},t);var e=getShapes(this.options.frame.map(function(t){return t.slice()}));this._itemSize=this.options.itemSize||0,this._shapes=e,this._size=0,this._style=(0,s.getStyleNames)(this.options.horizontal)}return FrameLayout.prototype._getItemSize=function(){return this._checkItemSize(),this._itemSize},FrameLayout.prototype._checkItemSize=function(){if(this.options.itemSize)this._itemSize=this.options.itemSize;else{var t=this._style.size2,e=this.options.margin;this._itemSize=(this._size+e)/this._shapes[t]-e}},FrameLayout.prototype._layout=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments[2],r=t.length,o=this._style,a=this.options,u=a.margin,h=a.frameFill,c=o.size1,l=o.size2,f=o.pos1,p=o.pos2,d=this._getItemSize(),_=\"object\"===(void 0===d?\"undefined\":n(d)),g=_?d[l]:d,y=_?d[c]:d,m=this._shapes[l],v=this._shapes.shapes,S=v.length,I=(0,s.fill)(m,-99999),E=(0,s.fill)(m,-99999),w=(v.height,0),O=0,C=-1,M=-1,P=-1,z=-1;if(!S)return{start:e,end:e,startIndex:C,endIndex:M};for(var T=0;T<r;T+=S){for(var b=0;b<S&&T+b<r;++b){for(var R,L=t[T+b],D=v[b],A=D[f],x=D[p],N=D[c],k=D[l],G=O-w+A*(y+u),W=x*(g+u),q=N*(y+u)-u,j=k*(g+u)-u,H=x;H<x+k&&H<m;++H)-99999===I[H]&&(I[H]=G),-1===C&&(P=G,C=T+b,z=G+q+u,M=T+b),P>G&&(P=G,C=T+b),z<G+q+u&&(z=G+q+u,M=T+b),I[H]=Math.min(I[H],G),E[H]=Math.max(E[H],G+q+u);L.rect=(R={},R[f]=G,R[p]=W,R[c]=q,R[l]=j,R)}if(O=Math.max.apply(Math,E),0===T)if(h){w=O;for(var V=0;V<m;++V)-99999!==I[V]?w=Math.min(I[V]+O-E[V],w):(I[V]=Math.max.apply(Math,I),E[V]=I[V])}else w=0}var F=i?I:E,U=0===e.length?0:Math[i?\"max\":\"min\"].apply(Math,e),B=i?0:O;if(h&&e.length===m){B=99999999;for(var Y=0;Y<m;++Y)I[Y]!==E[Y]&&(B=Math.min(F[Y]+U-e[Y],B))}for(var K=0;K<m;++K)I[K]+=U-B,E[K]+=U-B;return t.forEach(function(t){t.rect[f]+=U-B}),{start:I,end:E,startIndex:C,endIndex:M}},FrameLayout.prototype._insert=function(t,e,i){var n=t.map(function(t){return r({},t)});return{items:n,outlines:this._layout(n,e,i)}},FrameLayout.prototype.layout=function(t,e){for(var i=t.length,r=e,n=0;n<i;++n){var s=t[n];r=this._layout(s.items,r,o.APPEND),s.outlines=r,r=r.end}return this},FrameLayout.prototype.setSize=function(t){return this._size=t,this},FrameLayout.prototype.append=function(t,e){return this._insert(t,e,o.APPEND)},FrameLayout.prototype.prepend=function(t,e){return this._insert(t,e,o.PREPEND)},FrameLayout}();e[\"default\"]=a,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _interopRequireDefault(t){return t&&t.__esModule?t:{\"default\":t}}var r=_interopRequireDefault(i(6)),n=_interopRequireDefault(i(11)),o=_interopRequireDefault(i(4)),s=_interopRequireDefault(i(12)),a=_interopRequireDefault(i(13)),u=_interopRequireDefault(i(15));r[\"default\"].GridLayout=n[\"default\"],r[\"default\"].FrameLayout=o[\"default\"],r[\"default\"].SquareLayout=s[\"default\"],r[\"default\"].PackingLayout=a[\"default\"],r[\"default\"].JustifiedLayout=u[\"default\"],t.exports=r[\"default\"]},function(t,e,i){\"use strict\";function _interopRequireDefault(t){return t&&t.__esModule?t:{\"default\":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function _inherits(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},o=_interopRequireDefault(i(7)),s=_interopRequireDefault(i(8)),a=_interopRequireDefault(i(3)),u=_interopRequireDefault(i(9)),h=_interopRequireDefault(i(10)),c=i(0),l=i(1);\"function\"!=typeof Object.create&&(Object.create=function(t,e){function F(){}if(\"object\"!==(void 0===t?\"undefined\":n(t))&&\"function\"!=typeof t)throw new TypeError(\"Object prototype may only be an Object: \"+t);if(null===t)throw new Error(\"This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.\");return F.prototype=t,new F});var f=function(t){function InfiniteGrid(e,i){_classCallCheck(this,InfiniteGrid);var n=_possibleConstructorReturn(this,t.call(this));return r(n.options={itemSelector:\"*\",isOverflowScroll:!1,threshold:300,isEqualSize:!1,useRecycle:!0,horizontal:!1},i),c.IS_ANDROID2&&(n.options.isOverflowScroll=!1),n._isVertical=!n.options.horizontal,n._reset(),n._items=new s[\"default\"],n._renderer=new a[\"default\"](e,{isOverflowScroll:n.options.isOverflowScroll,isEqualSize:n.options.isEqualSize,isVertical:n._isVertical}),n._watcher=new h[\"default\"](n._renderer,{layout:function(){return n.layout()},check:function(t){return n._onCheck(t)}}),n}return _inherits(InfiniteGrid,t),InfiniteGrid.prototype.append=function(t,e){return this._layout&&this._insert(t,c.APPEND,e),this},InfiniteGrid.prototype.prepend=function(t,e){return this._layout&&this._insert(t,c.PREPEND,e),this},InfiniteGrid.prototype.setLayout=function(t,e){return this._layout=new t(r(e||{},{horizontal:!this._isVertical})),this._layout.setSize(this._renderer.getContainerSize()),this},InfiniteGrid.prototype.getItems=function(){return this[arguments.length>0&&arguments[0]!==undefined&&arguments[0]?\"_getItems\":\"_getVisibleItems\"]()},InfiniteGrid.prototype._getItems=function(){return this._items.pluck(\"items\",0,this._items.size())},InfiniteGrid.prototype._getVisibleItems=function(){return this._items.pluck(\"items\",this._status.startCursor,this._status.endCursor)},InfiniteGrid.prototype._updateEdge=function(){this._status.start=this._items.getEdge(\"start\",this._status.startCursor,this._status.endCursor),this._status.end=this._items.getEdge(\"end\",this._status.startCursor,this._status.endCursor)},InfiniteGrid.prototype._getEdgeOffset=function(t){var e=null;if(!this._status[t]){var i=this._items.getEdge(t);this._status[t]=i}return this._status[t]&&(e=this._status[t].rect,\"start\"===t&&(e.bottom=e.top+this._status[t].size.height,e.right=e.left+this._status[t].size.width)),e},InfiniteGrid.prototype._fit=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"after\";if(this.options.useRecycle){if(this._layout){var e=this._getEdgeValue(\"start\");0!==e&&(\"before\"===t&&(this._renderer.scrollBy(-Math.abs(e)),this._watcher.setScrollPos()),this._items.fit(e,this._isVertical),a[\"default\"].renderItems(this._getVisibleItems()),this._renderer.setContainerSize(this._getEdgeValue(\"end\")),\"after\"===t&&(this._renderer.scrollBy(Math.abs(e)),this._watcher.setScrollPos()))}}else this._fit=function(){}},InfiniteGrid.prototype._getEdgeValue=function(t){return this._items.getEdgeValue(t,this._status.startCursor,this._status.endCursor)},InfiniteGrid.prototype.layout=function(){var t=this,e=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0];if(!this._layout||this.isProcessing())return this;if(!this._items.size())return this._insert((0,l.toArray)(this._renderer.container.children),!0),this;this._status.isProcessing=!0;var i=void 0,r=void 0;return e?(i=this._items.get(this._status.startCursor,this._status.endCursor),this._renderer.resize()&&(this._layout.setSize(this._renderer.getContainerSize()),i.forEach(function(e){i.items=t._renderer.updateSize(e.items)}))):(i=this._items.get(this._status.startCursor,this._items.size()),r=this._items.getOutline(this._status.startCursor,\"start\")),i.length?(this._layout.layout(i,r),e?(this._items.set(i),this._status.startCursor=0,this._status.endCursor=i.length-1):i.forEach(function(e){return t._items.set(e,e.groupKey)}),this._onLayoutComplete(i,c.APPEND,c.NO_TRUSTED),a[\"default\"].renderItems(this._getVisibleItems()),e&&this._watcher.setScrollPos(),this):this},InfiniteGrid.prototype.remove=function(t){if(t){var e=this._items.remove(t,this._status.startCursor,this._status.endCursor);if(e)return a[\"default\"].removeElement(t),e}return null},InfiniteGrid.prototype._getNextItems=function(t){var e=[],i=this._items.size();return i>0&&-1!==this._status.startCursor&&-1!==this._status.endCursor&&(t&&i>this._status.endCursor+1?e=this._items.pluck(\"items\",this._status.endCursor+1):!t&&this._status.startCursor>0&&(e=this._items.pluck(\"items\",this._status.startCursor-1))),e},InfiniteGrid.prototype.getGroupKeys=function(t){return(t?this._items.get():this._items.get(this._status.startCursor,this._status.endCursor)).map(function(t){return t.groupKey})},InfiniteGrid.prototype.getStatus=function(){return{options:r({},this.options),_status:r({},this._status),_items:this._items.getStatus(),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus()}},InfiniteGrid.prototype.setStatus=function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];return t&&t.options&&t._status&&t._renderer&&t._items&&t._watcher?(this._watcher.detachEvent(),r(this.options,t.options),r(this._status,t._status),this._items.setStatus(t._items,this._status.startCursor,this._status.endCursor),this._renderer.setStatus(t._renderer,this._getVisibleItems()),this._watcher.setStatus(t._watcher,e),this._updateEdge(),this._watcher.attachEvent(),this):this},InfiniteGrid.prototype.clear=function(){return this._items.clear(),this._renderer.clear(),this._reset(),this},InfiniteGrid.prototype.isProcessing=function(){return this._status.isProcessing},InfiniteGrid.prototype._insert=function(t,e,i){if(!this.isProcessing()&&0!==t.length){this._status.isProcessing=!0;var r=void 0===i?(new Date).getTime()+Math.floor(1e3*Math.random()):i,n=s[\"default\"].from((0,l.$)(t,!0),this.options.itemSelector,{isAppend:e,groupKey:r});n.length&&this._postLayout(c.NO_CACHE,n,e,c.NO_TRUSTED)}},InfiniteGrid.prototype._recycle=function(t){for(var e=[],i=this._status.startCursor;i<=this._status.endCursor;i++)e.push(this._isVisible(i));var r=e.indexOf(t?1:-1),n=e.lastIndexOf(t?1:-1);-1!==r&&-1!==n&&(n=(r=this._status.startCursor+r)+n,a[\"default\"].removeItems(this._items.pluck(\"items\",r,n)),t?this._status.startCursor=n+1:this._status.endCursor=r-1)},InfiniteGrid.prototype._postLayout=function(t,e,i,r){var n=this;if(t)this._renderer.createAndInsert(e,i),this._updateCursor(i),this.options.useRecycle&&this._recycle(i),this._onLayoutComplete(e,i,r);else{var o=i?\"append\":\"prepend\";this._renderer[o](e),u[\"default\"].check(e.map(function(t){return t.el}),function(){var t=n._layout[o](n._renderer.updateSize(e),n._items.getOutline(i?n._status.endCursor:n._status.startCursor,i?\"end\":\"start\"));n._insertItems(t,i),n._updateCursor(i),n.options.useRecycle&&n._recycle(i),a[\"default\"].renderItems(t.items),n._onLayoutComplete(t.items,i,r)})}},InfiniteGrid.prototype._isVisible=function(t){var e=Math.min.apply(Math,this._items.getOutline(t,\"start\")),i=Math.max.apply(Math,this._items.getOutline(t,\"end\")),r=this._watcher.getScrollPos();return r+this._renderer.getViewSize()+this.options.threshold<e?-1:r-this.options.threshold>i?1:0},InfiniteGrid.prototype._updateCursor=function(t){t?this._status.endCursor++:this._status.startCursor>0?this._status.startCursor--:this._status.endCursor++,this._status.startCursor<0&&(this._status.startCursor=0)},InfiniteGrid.prototype._insertItems=function(t,e){t.groupKey=t.items[0].groupKey,this._items[e?\"append\":\"prepend\"](t)},InfiniteGrid.prototype._requestAppend=function(){var t=this._getNextItems(c.APPEND);t.length?this._postLayout(c.CACHE,t,c.APPEND,c.TRUSTED):this.trigger(\"append\",{isTrusted:!0,groupKey:this.getGroupKeys().pop()})},InfiniteGrid.prototype._requestPrepend=function(){var t=this._getNextItems(c.PREPEND);t.length?this._postLayout(c.CACHE,t,c.PREPEND,c.TRUSTED):this.trigger(\"prepend\",{isTrusted:!0,groupKey:this.getGroupKeys().shift()})},InfiniteGrid.prototype._onCheck=function(t){var e=t.isForward,i=t.scrollPos,r=t.horizontal,n=t.orgScrollPos;if(this.trigger(\"change\",{isForward:e,horizontal:r,scrollPos:i,orgScrollPos:n}),!this.isProcessing()){var o=this._getEdgeOffset(e?\"end\":\"start\");if(o){var s=e?o[r?\"left\":\"top\"]-this._renderer.getViewSize():o[r?\"right\":\"bottom\"];e?i>=s&&this._requestAppend():i<=s&&(this._fit(\"before\"),this._requestPrepend())}}},InfiniteGrid.prototype._onLayoutComplete=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined&&arguments[2];this._updateEdge();var r=this._getEdgeValue(\"end\");this._renderer.setContainerSize(r),!e&&this._fit(\"after\"),this._status.isProcessing=!1,this.trigger(\"layoutComplete\",{target:t.concat(),isAppend:e,isTrusted:i,scrollPos:this._watcher.getScrollPos(),orgScrollPos:this._watcher.getOrgScrollPos(),size:r})},InfiniteGrid.prototype._reset=function(){this._status={isProcessing:!1,startCursor:-1,endCursor:-1,start:null,end:null}},InfiniteGrid.prototype.destroy=function(){this.off(),this._watcher.destroy(),this._reset(),this._items.clear(),this._renderer.destroy()},InfiniteGrid}(o[\"default\"]);f.VERSION=\"3.0.0-rc\",e[\"default\"]=f,t.exports=e[\"default\"]},function(e,i){e.exports=t},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.__esModule=!0;var r=i(0),n=function(t){return t&&t.__esModule?t:{\"default\":t}}(i(3)),o=i(1),s=function(){function ItemManager(){_classCallCheck(this,ItemManager),this.clear()}return ItemManager.from=function(t,e,i){var n=i.groupKey,s=(i.isAppend,ItemManager.selectItems((0,o.$)(t,r.MULTI),e));return(0,o.toArray)(s).map(function(t){return{el:t,groupKey:n,content:t.outerHTML}})},ItemManager.selectItems=function(t,e){return t.filter(function(t){return\"*\"===e?t:t.className.split(\" \").some(function(t){return t===e})})},ItemManager.pluck=function(t,e){return t.reduce(function(t,i){return t.concat(i[e])},[])},ItemManager.prototype.getStatus=function(){return{_data:this._data.map(function(t){return t.items=t.items.map(function(t){return delete t.el,t}),t})}},ItemManager.prototype.setStatus=function(t,e,i){for(var r=t._data,o=e;o<=i;o++)r[o].items=n[\"default\"].createElements(r[o].items);this.set(r)},ItemManager.prototype.size=function(){return this._data.length},ItemManager.prototype.fit=function(t,e){if(this._data.length){var i=e?\"top\":\"left\";0!==t&&(this._data=this._data.map(function(e){return e.items=e.items.map(function(e){return e.rect[i]-=t,e}),e.outlines.start=e.outlines.start.map(function(e){return e-t}),e.outlines.end=e.outlines.end.map(function(e){return e-t}),e}))}},ItemManager.prototype.pluck=function(t,e,i){return void 0!==e?void 0!==i?ItemManager.pluck(this._data.slice(e,i+1),t):ItemManager.pluck(this._data.slice(e,e+1),t):ItemManager.pluck(this._data,t)},ItemManager.prototype.getOutline=function(t,e){return this._data.length?this._data[t].outlines[e]:[]},ItemManager.prototype.getEdgeIndex=function(t,e,i){for(var r=\"start\"===t?\"min\":\"max\",n=-1,o=\"start\"===t?Infinity:-Infinity,s=e;s<=i;s++){var a=Math[r].apply(Math,this.getOutline(s,t));(\"start\"===t&&o>a||\"end\"===t&&o<a)&&(o=a,n=s)}return n},ItemManager.prototype.getEdge=function(t,e,i){var r=this.getEdgeIndex(t,e,i),n=this.pluck(\"items\",r);if(n.length){var o=this.getOutline(r,t+\"Index\");return n.length>o?n[o]:null}return null},ItemManager.prototype.getEdgeValue=function(t,e,i){return Math[\"start\"===t?\"min\":\"max\"].apply(Math,this.pluck(\"outlines\",this.getEdgeIndex(t,e,i)).reduce(function(e,i){return e.concat(i[t])},[]))},ItemManager.prototype.append=function(t){return this._data.push(t),t.items},ItemManager.prototype.prepend=function(t){return this._data.unshift(t),t.items},ItemManager.prototype.clear=function(){this._data=[]},ItemManager.prototype.remove=function(t,e,i){var n=null,o=t.getAttribute(r.GROUPKEY_ATT),s=this.get(e,i).filter(function(t){return String(t.groupKey)===o});if(!s.length)return n;for(var a=(s=s[0]).items.length,u=-1,h=0;h<a;h++)if(s.items[h].el===t){u=h;break}return~u&&(s.items.splice(u,1),this.set(s,o),n=s.items),n},ItemManager.prototype.get=function(t,e){return void 0!==t?void 0!==e?this._data.slice(t,e+1):this._data.slice(t,t+1):this._data.concat()},ItemManager.prototype.set=function(t,e){if(void 0===e||Array.isArray(t))this._data=t.concat();else{for(var i=this._data.length,r=-1,n=0;n<i;n++)if(this._data[n].groupKey===e){r=n;break}~r&&(this._data[r]=t)}},ItemManager}();e[\"default\"]=s,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.__esModule=!0;var r=i(0),n=i(1),o=function(){function ImageLoaded(){_classCallCheck(this,ImageLoaded)}return ImageLoaded.waitImageLoaded=function(t,e){var i=t.length,o=function(){--i<=0&&e&&e()},s=function onCheck(t){(0,n.removeEvent)(t.target||t.srcElement,\"load\",onCheck),(0,n.removeEvent)(t.target||t.srcElement,\"error\",onCheck),o()};r.IS_IE&&t.forEach(function(t){return t.setAttribute(\"src\",t.getAttribute(\"src\"))}),t.forEach(function(t){t.complete?o():((0,n.addEvent)(t,\"load\",s),(0,n.addEvent)(t,\"error\",s))})},ImageLoaded.checkImageLoaded=function(t){return\"IMG\"===t.tagName?t.complete?[]:[t]:(0,n.toArray)(t.querySelectorAll(\"img\")).filter(function(t){return!(!t.nodeType||-1===[1,9,11].indexOf(t.nodeType))&&!t.complete})},ImageLoaded.check=function(t,e){var i=this,r=t.reduce(function(t,e){return t.concat(i.checkImageLoaded(e))},[]);r.length>0?ImageLoaded.waitImageLoaded(r,e):setTimeout(function(){e&&e()},0)},ImageLoaded}();e[\"default\"]=o,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=i(0),o=i(1),s=function(){function Watcher(t,e){_classCallCheck(this,Watcher),r(this._callback={layout:null,check:null},e),this._timer={resize:null},this._prevPos=-1,this._renderer=t,this._onCheck=this._onCheck.bind(this),this._onResize=this._onResize.bind(this),this.attachEvent(),this.setScrollPos()}return Watcher.prototype.getStatus=function(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}},Watcher.prototype.setStatus=function(t){var e=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)},Watcher.prototype.scrollTo=function(t){var e=this._renderer.options.isVertical?[0,t]:[t,0];o.scrollTo.apply(undefined,[this._renderer.view].concat(e))},Watcher.prototype.getScrollPos=function(){return this._prevPos},Watcher.prototype.setScrollPos=function(t){var e=t;void 0===t&&(e=this.getOrgScrollPos()),this._prevPos=e-this._renderer.getContainerOffset()},Watcher.prototype.attachEvent=function(){(0,o.addEvent)(this._renderer.view,\"scroll\",this._onCheck),(0,o.addEvent)(window,\"resize\",this._onResize)},Watcher.prototype.getOrgScrollPos=function(){return(0,o.scroll)(this._renderer.view,this._renderer.options.isVertical)},Watcher.prototype._onCheck=function(){var t=this.getOrgScrollPos(),e=this.getScrollPos();this.setScrollPos(t);var i=this.getScrollPos();n.IS_IOS&&0===t||e===i||this._callback.check&&this._callback.check({isForward:e<i,scrollPos:i,orgScrollPos:t,horizontal:!this._renderer.options.isVertical})},Watcher.prototype._onResize=function(){var t=this;this._timer.resize&&clearTimeout(this._timer.resize),this._timer.resize=setTimeout(function(){t._renderer.isNeededResize()&&t._callback.layout&&t._callback.layout(),t._timer.resize=null,t._prevPos=-1},100)},Watcher.prototype.detachEvent=function(){(0,o.removeEvent)(window,\"resize\",this._onResize)},Watcher.prototype.destroy=function(){this.detachEvent(),this._prevPos=-1},Watcher}();e[\"default\"]=s,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=i(0),o=i(1),s=n.ALIGN.START,a=n.ALIGN.CENTER,u=n.ALIGN.END,h=n.ALIGN.JUSTIFY,c=function(){function GridLayout(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,GridLayout),this.options=(0,o.assignOptions)({align:s,itemSize:0},t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=(0,o.getStyleNames)(this.options.horizontal)}return GridLayout.prototype.getPoints=function(t){var e=this.options.horizontal?\"left\":\"top\";return t.map(function(t){return t[e]})},GridLayout.prototype.checkColumn=function(t){var e=this.options.margin,i=this.options.horizontal?\"height\":\"width\",r=this.options.itemSize||t&&t.size[i]||0;this._columnSize=r,this._columnLength=r?Math.max(parseInt((this._size+e)/(r+e),10),1):1},GridLayout.prototype._layout=function(t,e,i){for(var r=t.length,n=this.options.margin,o=this.options.align,s=this._style,c=s.size1,l=s.size2,f=s.pos1,p=s.pos2,d=this._columnSize,_=this._columnLength,g=this._size,y=g-(d+n)*_+n,m=i?\"min\":\"max\",v=e.slice(),S=e.slice(),I=-1,E=-1,w=0;w<r;++w){var O,C=Math[m].apply(Math,S)||0,M=S.indexOf(C),P=t[i?w:r-1-w],z=P.size[c],T=P.size[l],b=i?C:C-n-z,R=b+z+n;-1===M&&(M=0);var L=(d+n)*M;o===a?L+=y/2:o===u?L+=y+d-T:o===h&&(_<=1?L+=y/2:L=(g-d)/(_-1)*M),P.rect=(O={},O[f]=b,O[p]=L,O),P.column=M,S[M]=i?R:b,-1===I?(I=w,E=R):E<R&&(I=w,E=R)}return i||(t.sort(function(t,e){var i=t.rect[f],r=t.rect[p],n=e.rect[f],o=e.rect[p];return i-n?i-n:r-o}),I=r-1),{start:i?v:S,end:i?S:v,startIndex:0,endIndex:I}},GridLayout.prototype._insert=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments[2],s=t.map(function(t){return r({},t)}),a=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(a=(0,o.fill)(this._columnLength,0===e.length?0:Math[i===n.APPEND?\"min\":\"max\"].apply(Math,e)||0)),{items:s,outlines:this._layout(s,a,i)}},GridLayout.prototype.append=function(t,e){return this._insert(t,e,n.APPEND)},GridLayout.prototype.prepend=function(t,e){return this._insert(t,e,n.PREPEND)},GridLayout.prototype.layout=function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],r=e.length&&e[0].items.length&&e[0].items[0]||0;this.checkColumn(r);var s=void 0;if(i.length!==this._columnLength){var a=0===i.length?0:Math.min.apply(Math,i);s=(0,o.fill)(this._columnLength,a)}else s=i.slice();return e.forEach(function(e){var i=e.items,r=t._layout(i,s,n.APPEND);e.outlines=r,s=r.end}),this},GridLayout.prototype.setSize=function(t){return this._size=t,this},GridLayout}();e[\"default\"]=c,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function _inherits(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function makeShapeOutline(t,e,i,r){var o=Math[r?\"min\":\"max\"].apply(Math,t)||0;return t.length!==i?(0,n.fill)(i,0):t.map(function(t){return parseInt((t-o)/e,10)})}function getColumn(t){if(t.column)return t.column;var e=0;if(t.el){var i=t.el.dataset;e=i?i.column||1:t.el.getAttribute(\"column\")||1}else e=1;return t.column=e,e}e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{\"default\":t}}(i(4)),n=i(1),o=function(t){function SquareLayout(){return _classCallCheck(this,SquareLayout),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(SquareLayout,t),SquareLayout.prototype._checkItemSize=function(){var e=this.options.column;if(e){var i=this.options.margin;this._itemSize=(this._size+i)/e-i}else t.prototype._checkItemSize.call(this)},SquareLayout.prototype._layout=function(e){for(var i,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],o=arguments[2],s=this._getItemSize(),a=this.options.margin,u=this.options.column||parseInt((this._size+a)/(s+a),10),h=e.length,c=makeShapeOutline(r,s,u,o),l=o?\"min\":\"max\",f=[],p=o?1:-1,d=this._style,_=d.pos1,g=d.pos2,y=0;y<h;++y){var m,v=Math[l].apply(Math,c),S=(0,n.indexOf)(c,v,!o),I=e[y],E=I.columnWidth,w=E&&E[0]===u&&E[1]||getColumn(I),O=1;if(w>1){for(var C=1;C<w&&(o&&S+C<u||!o&&S-C>=0)&&(o&&c[S+p*C]<=v||!o&&c[S+p*C]>=v);++C)++O;o||(S-=O-1)}I.columnWidth=[u,O],f.push((m={width:O,height:O},m[_]=v-(o?0:O),m[g]=S,m.index=y,m));for(var M=0;M<O;++M)c[S+M]=v+p*O}this._shapes=(i={shapes:f},i[d.size2]=u,i);var P=t.prototype._layout.call(this,e,r,o);if(!o){var z=e[e.length-1];f.sort(function(t,e){var i=t[_],r=t[g],n=e[_],o=e[g];return i-n?i-n:r-o}),e.sort(function(t,e){var i=t.rect[_],r=t.rect[g],n=e.rect[_],o=e.rect[g];return i-n?i-n:r-o}),P.startIndex=0,P.endIndex=e.indexOf(z)}return P},SquareLayout}(r[\"default\"]);e[\"default\"]=o,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function getCost(t,e){var i=t/e;return i<1&&(i=1/i),i-1}function fitArea(t,e,i,r,n){t.setHeight(i.height),t.setWidth(i.width),e.setHeight(r.height),e.setWidth(r.width),n?(t.setTop(e.getTop()+e.getHeight()),t.setLeft(e.getLeft())):(t.setLeft(e.getLeft()+e.getWidth()),t.setTop(e.getTop()))}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},n=function(t){return t&&t.__esModule?t:{\"default\":t}}(i(14)),o=i(0),s=i(1),a=function(){function PackingLayout(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,PackingLayout),this.options=(0,s.assignOptions)({aspectRatio:1,sizeWeight:1,ratioWeight:1},t),this._size=0,this._style=(0,s.getStyleNames)(this.options.horizontal)}return PackingLayout.prototype._findBestFitArea=function(t,e){if(0===t.getRatio())return t.setOriginWidth(e.getWidth()),t.setOriginHeight(e.getHeight()),t.setWidth(e.getWidth()),void t.setHeight(e.getHeight());var i=null,r=1e7,n=!1,o={width:0,height:0},s={width:0,height:0},a=this.options,u=a.sizeWeight,h=a.ratioWeight;t.innerItem().forEach(function(t){for(var a=getCost(t.getOriginSize(),t.getSize())*u,c=getCost(t.getOriginRatio(),t.getRatio())*h,l=void 0,f=0;f<2;++f){var p=void 0,d=void 0,_=void 0,g=void 0;0===f?(p=t.getWidth(),d=t.getHeight()*(e.getHeight()/(t.getOriginHeight()+e.getHeight())),_=t.getWidth(),g=t.getHeight()-d):(d=t.getHeight(),p=t.getWidth()*(e.getWidth()/(t.getOriginWidth()+e.getWidth())),g=t.getHeight(),_=t.getWidth()-p);var y=p*d,m=p/d,v=_*g,S=g/g;l=getCost(e.getSize(),y)*u,l+=getCost(e.getRatio(),m)*h,l+=getCost(t.getOriginSize(),v)*u-a,(l+=getCost(t.getOriginRatio(),S)*h-c)===Math.min(l,r)&&(r=l,i=t,n=0===f,o.width=p,o.height=d,s.width=_,s.height=g)}}),fitArea(e,i,o,s,n)},PackingLayout.prototype._layout=function(t){var e=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],r=arguments[2],o=this._style,a=this.options.horizontal,u=this.options.aspectRatio,h=this.options.margin,c=o.pos1,l=o.size1,f=this._size*(a?u:1),p=this._size/(a?1:u),d=a?f:p,_=(0,s.toZeroArray)(i),g=r?Math.max.apply(Math,_):Math.min.apply(Math,_)-d-h,y=g+d+h,m=new n[\"default\"]({}),v=-1,S=-1,I=-1,E=-1;return t.forEach(function(t){var i=new n[\"default\"]({originWidth:t.orgSize.width,originHeight:t.orgSize.height,width:t.orgSize.width,height:t.orgSize.height});e._findBestFitArea(m,i),m.pushItem(i),m.scaleTo(f+h,p+h)}),t.forEach(function(t,e){var i=m.innerItem()[e],r=i.getWidth(),n=i.getHeight(),o=i.getTop(),s=i.getLeft();t.rect={top:o,left:s,width:r-h,height:n-h},t.rect[c]+=g,-1===v&&(v=e,S=e,I=t.rect[c],E=I),I>t.rect[c]&&(I=t.rect[c],v=e),E<t.rect[c]+t.rect[l]+h&&(E=t.rect[c]+t.rect[l]+h,S=e)}),{start:[g],end:[y],startIndex:v,endIndex:S}},PackingLayout.prototype._insert=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments[2],n=t.map(function(t){return r({},t)});return{items:n,outlines:this._layout(n,e,i)}},PackingLayout.prototype.append=function(t,e){return this._insert(t,e,o.APPEND)},PackingLayout.prototype.prepend=function(t,e){return this._insert(t,e,o.PREPEND)},PackingLayout.prototype.layout=function(){for(var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=t.length,r=e,n=0;n<i;++n){var s=t[n];r=this._layout(s.items,r,o.APPEND),s.outlines=r,r=r.end}return this},PackingLayout.prototype.setSize=function(t){return this._size=t,this},PackingLayout}();e[\"default\"]=a,t.exports=e[\"default\"]},function(t,e,i){\"use strict\";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var r=function(){function BoxModel(t){_classCallCheck(this,BoxModel),this._originWidth=t.originWidth||0,this._originHeight=t.originHeight||0,this._width=t.width||0,this._height=t.height||0,this._left=t.left||0,this._top=t.top||0,this._item=t.item,this._innerItem=t.innerItem||[]}return BoxModel.prototype.getOriginWidth=function(){return this._originWidth},BoxModel.prototype.setOriginWidth=function(t){this._originWidth=t},BoxModel.prototype.getOriginHeight=function(){return this._originHeight},BoxModel.prototype.setOriginHeight=function(t){this._originHeight=t},BoxModel.prototype.getWidth=function(){return this._width},BoxModel.prototype.setWidth=function(t){this._width=t},BoxModel.prototype.getHeight=function(){return this._height},BoxModel.prototype.setHeight=function(t){this._height=t},BoxModel.prototype.getLeft=function(){return this._left},BoxModel.prototype.setLeft=function(t){this._left=t},BoxModel.prototype.getTop=function(){return this._top},BoxModel.prototype.setTop=function(t){this._top=t},BoxModel.prototype.innerItem=function(){return this._innerItem},BoxModel.prototype.scaleTo=function(t,e){var i=0===this._width?0:t/this._width,r=0===this._height?0:e/this._height;this._innerItem.forEach(function(t){0!==i&&(t._left*=i,t._width*=i),0!==r&&(t._top*=r,t._height*=r)}),this._width=t,this._height=e},BoxModel.prototype.pushItem=function(t){this._innerItem.push(t)},BoxModel.prototype.getOriginSize=function(){return this._originWidth*this._originHeight},BoxModel.prototype.getSize=function(){return this._width*this._height},BoxModel.prototype.getOriginRatio=function(){return 0===this._originHeight?0:this._originWidth/this._originHeight},BoxModel.prototype.getRatio=function(){return 0===this._height?0:this._width/this._height},BoxModel.prototype.isSmallerThen=function(t){return this._width<=t._width&&this._height<=t._height},BoxModel.prototype.isEqual=function(t){return this._left===t._left&&this._top===t._top&&this._width===t._width&&this._height===t._height},BoxModel}();t.exports=r},function(t,e){throw new Error(\"Module build failed: SyntaxError: Unexpected token (258:8)\\n\\n\u001b[0m \u001b[90m 256 | \u001b[39m\\t\\t}\\n \u001b[90m 257 | \u001b[39m\\t}\\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 | \u001b[39m\\t\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m;\u001b[39m\\n \u001b[90m     | \u001b[39m\\t       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\\n \u001b[90m 259 | \u001b[39m}\\n \u001b[90m 260 | \u001b[39m\\n \u001b[90m 261 | \u001b[39m\u001b[36mexport\u001b[39m \u001b[36mdefault\u001b[39m \u001b[33mJustifiedLayout\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\\n\")}])});\n\n\n// WEBPACK FOOTER //\n// infinitegrid.min.js"],"mappings":";;;;;;;;;AAAA","sourceRoot":""}